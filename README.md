# Deploying a TypeScript Node.js Express Backend on Vercel

This guide provides a step-by-step approach to deploying a **TypeScript-based Node.js & Express** backend on Vercel.

## **üìÇ Project Structure**
```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts  # Main Express server
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ index.js  # Compiled JavaScript file for Vercel
‚îú‚îÄ‚îÄ dist/
‚îÇ   ‚îú‚îÄ‚îÄ index.js  # Auto-generated by TypeScript
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ vercel.json
‚îú‚îÄ‚îÄ README.md
```

---
## **1Ô∏è‚É£ Install Dependencies**
Run the following command to create a new project and install required packages:
```sh
mkdir backend && cd backend
npm init -y
npm install express cors
npm install --save-dev typescript ts-node @types/node @types/express @types/cors
```

---
## **2Ô∏è‚É£ Configure TypeScript (`tsconfig.json`)**
Create a `tsconfig.json` file in the root folder:
```json
{
  "compilerOptions": {
    "module": "commonjs",
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "target": "ES6",
    "noImplicitAny": true,
    "moduleResolution": "node",
    "sourceMap": true,
    "outDir": "dist"
  },
  "include": ["./src/**/*"]
}
```

---
## **3Ô∏è‚É£ Create the Express Server (`src/index.ts`)**
Create a `src/index.ts` file:
```ts
import express, { Request, Response } from "express";
import cors from "cors";

const app = express();
app.use(cors());

app.get("/", (req: Request, res: Response) => {
  res.send("Hello World!");
});

// Export Express app for Vercel
export default app;
```

---
## **4Ô∏è‚É£ Configure `package.json`**
Modify `package.json` to include build and start scripts:
```json
{
  "scripts": {
    "build": "tsc",
    "start": "node dist/index.js",
    "dev": "ts-node src/index.ts"
  },
  "dependencies": {
    "express": "^4.21.2",
    "cors": "^2.8.5"
  },
  "devDependencies": {
    "typescript": "^5.8.2",
    "ts-node": "^10.9.2",
    "@types/express": "^5.0.0",
    "@types/node": "^22.13.9",
    "@types/cors": "^2.8.17"
  }
}
```

---
## **5Ô∏è‚É£ Compile TypeScript to JavaScript**
Run:
```sh
npm run build
```
This will generate `dist/index.js`.

---
## **6Ô∏è‚É£ Move Compiled Code to `api/` for Vercel**
Vercel expects backend API files in the `api/` folder. Move the compiled `dist/index.js` file:
```sh
mkdir api && mv dist/index.js api/
```

---
## **7Ô∏è‚É£ Create Vercel Configuration (`vercel.json`)**
Create a `vercel.json` file:
```json
{
  "version": 2,
  "builds": [
    {
      "src": "api/index.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "api/index.js"
    }
  ]
}
```

---
## **8Ô∏è‚É£ Deploy to Vercel**

### **üîπ First-time Setup**
If you haven't installed Vercel CLI, run:
```sh
npm install -g vercel
```
Then login:
```sh
vercel login
```

### **üîπ Deploying**
Run:
```sh
vercel
```
Follow the prompts, and Vercel will deploy your backend. After deployment, you'll receive a live URL.

### **üîπ Check Logs (If Issues Occur)**
```sh
vercel logs <your-deployment-url>
```

---
## **üéâ Done!**
Your TypeScript Express backend is now live on Vercel. Visit the deployment URL in your browser to see `Hello World!`.

---
### **üîπ Optional: Enable Continuous Deployment**
- Push your code to **GitHub/GitLab**
- Connect your repository to **Vercel Dashboard**
- Vercel will automatically deploy on every push üöÄ

